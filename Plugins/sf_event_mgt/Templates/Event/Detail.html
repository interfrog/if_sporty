<f:layout name="Default" />

<f:section name="main">

	<f:if condition="{event}">
		<f:switch expression="{settings.templateLayout}">
			<f:case value="10">
				<h1>{event.title}</h1>
					
				<f:if condition="{event.teaser}">				
					<p class="teaser"><strong>{event.teaser}</strong></p>
				</f:if>

				<f:if condition="{event.description}">
					<f:format.html>{event.description}</f:format.html>
				</f:if>

				<f:if condition="{event.program}">
					<div class="event-detail-row">
						<div class="event-detail-label">
							<f:translate key="tx_sfeventmgt_domain_model_event.program" />
						</div>
						<div class="event-detail-value event-program">
							<f:format.html>{event.program}</f:format.html>
						</div>
						<div class="clear"></div>
					</div>
				</f:if>
				<f:if condition="{event.registrationPossible}">
					<f:if condition="{settings.registrationPid} !=''">
						<f:link.action action="registration" arguments="{event : event}" pageUid="{settings.registrationPid}">
							<f:translate key="event.registration"/>
						</f:link.action>
					</f:if>
				</f:if>
			</f:case>
			<f:case value="11">
				<div class="eventfacts">
						<f:if condition="{event.startdate}">
							<p class="align-center">Beginn:<br/>
							<strong><f:format.date format="%d.%m.%Y - %H:%M">{event.startdate}</f:format.date></strong></p>
						</f:if>
						<f:if condition="{event.enddate}">
							<p class="align-center">Ende:<br/>
							<strong><f:format.date format="%d.%m.%Y - %H:%M">{event.enddate}</f:format.date></strong></p>
						</f:if>
						<f:if condition="{event.location}">
							<p class="align-center">Ort:<br/>
								<strong>{event.location.title}<br/>
								<f:if condition="{event.location.address}">
									<f:format.nl2br>{event.location.address}</f:format.nl2br><br/>
								</f:if>
								<f:if condition="{event.location.zip}">
									{event.location.zip} {event.location.city}<br/>
								</f:if>
								<f:if condition="{event.location.country}">
									{event.location.country}<br/>
								</f:if>
								</strong>
							</p>
						</f:if>
						<f:if condition="{event.organisator.name}">
							<p class="align-center">Organisator:<br/>
							<strong>{event.organisator.name}</strong></p>
						</f:if>
						<f:if condition="{event.maxParticipants}">
							<p class="align-center"><f:translate key="tx_sfeventmgt_domain_model_event.maxParticipants" />:<br/>
							<strong>{event.maxParticipants}</strong></p>
						</f:if>
						<f:if condition="{event.registration->f:count()}>0">
							<p class="align-center"><f:translate key="tx_sfeventmgt_domain_model_event.registrations" />:<br/>
							<strong>{event.registration->f:count()}</strong></p>
						</f:if>
						<f:if condition="{event.freePlaces}">
							<p class="align-center"><f:translate key="tx_sfeventmgt_domain_model_event.freePlaces" />:<br/>
							<strong>{event.freePlaces}</strong></p>
						</f:if>
						<p class="align-center"><f:translate key="tx_sfeventmgt_domain_model_event.price" />:<br/>
							<strong>
							<f:if condition="{event.price} == 0">
								<f:then>
									<f:translate key="event.freeofcharge" />
								</f:then>
								<f:else>
									{event.price} {event.currency}
								</f:else>
							</f:if>
							</strong>
						</p>
						<p class="align-center">
							<f:link.action action="icalDownload" arguments="{event : event}" class="regular-button"><f:translate key="event.icalDownload" /></f:link.action>
						</p>
				</div>
			</f:case>
			<f:case default="TRUE">
				<h1>{event.title}</h1>
				
				<p class="teaser"><strong>{event.teaser}</strong></p>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.description" />
					</div>
					<div class="event-detail-value event-description">
						<f:format.html>{event.description}</f:format.html>
					</div>
					<div class="clear"></div>
				</div>

				<f:if condition="{event.program}">
					<div class="event-detail-row">
						<div class="event-detail-label">
							<f:translate key="tx_sfeventmgt_domain_model_event.program" />
						</div>
						<div class="event-detail-value event-program">
							<f:format.html>{event.program}</f:format.html>
						</div>
						<div class="clear"></div>
					</div>
				</f:if>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.startdate" />
					</div>
					<div class="event-detail-value event-startdate">
						<f:format.date format="%d.%m.%Y - %H:%M">{event.startdate}</f:format.date>
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.enddate" />
					</div>
					<div class="event-detail-value event-enddate">
						<f:format.date format="%d.%m.%Y - %H:%M">{event.enddate}</f:format.date>
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.location" /> <f:translate key="tx_sfeventmgt_domain_model_event.location.title" />
					</div>
					<div class="event-detail-value event-location-title">
						{event.location.title}
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.location" /> <f:translate key="tx_sfeventmgt_domain_model_event.location.address" />
					</div>
					<div class="event-detail-value event-location-address">
						<f:format.nl2br>{event.location.address}</f:format.nl2br>
					</div>
					<div class="clear"></div>
				</div>

				<f:if condition="{event.location.zip}">
					<div class="event-detail-row">
						<div class="event-detail-label">
							<f:translate key="tx_sfeventmgt_domain_model_event.location" /> <f:translate key="tx_sfeventmgt_domain_model_event.location.zip" />
						</div>
						<div class="event-detail-value event-location-zip">
							{event.location.zip}
						</div>
						<div class="clear"></div>
					</div>
				</f:if>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.location" /> <f:translate key="tx_sfeventmgt_domain_model_event.location.city" />
					</div>
					<div class="event-detail-value event-location-city">
						{event.location.city}
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.location" /> <f:translate key="tx_sfeventmgt_domain_model_event.location.country" />
					</div>
					<div class="event-detail-value event-location-country">
						{event.location.country}
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.organisator" />
					</div>
					<div class="event-detail-value event-organisator">
						<f:format.html>{event.organisator.name}</f:format.html>
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.location" /> <f:translate key="tx_sfeventmgt_domain_model_event.location.title" />
					</div>
					<div class="event-detail-value event-location-title">
						{event.location.title}
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.maxParticipants" />
					</div>
					<div class="event-detail-value event-maxParticipants">
						{event.maxParticipants}
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.registrations" />
					</div>
					<div class="event-detail-value event-registrations">
						{event.registration->f:count()}
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.freePlaces" />
					</div>
					<div class="event-detail-value event-freePlaces">
						{event.freePlaces}
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.price" />
					</div>
					<div class="event-detail-value event-price">
						<f:if condition="{event.price} == 0">
							<f:then>
								<f:translate key="event.freeofcharge" />
							</f:then>
							<f:else>
								{event.price} {event.currency}
							</f:else>
						</f:if>
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.link" />
					</div>
					<div class="event-detail-value event-link">
						<f:link.page pageUid="{event.linkUrl}" target="{event.linkTarget}" title="{event.linkTitle}"><f:translate key="tx_sfeventmgt_domain_model_event.link" /></f:link.page>
					</div>
					<div class="clear"></div>
				</div>

				<div class="event-detail-row">
					<div class="event-detail-label">
						<f:translate key="tx_sfeventmgt_domain_model_event.top_event" />
					</div>
					<div class="event-detail-value event-price">
						{event.topEvent}
					</div>
					<div class="clear"></div>
				</div>

				<f:if condition="{event.image}">
					<div class="event-detail-row">
						<div class="event-detail-label">
							<f:translate key="tx_sfeventmgt_domain_model_event.image" />
						</div>
						<div class="event-detail-value event-image">
							<f:for each="{event.image}" as="image">
								<f:image src="{image.uid}" alt="" treatIdAsReference="TRUE" width="{settings.details.imageWidth}" height="{settings.details.imageHeight}" />
							</f:for>
						</div>
						<div class="clear"></div>
					</div>
				</f:if>

				<f:if condition="{event.additionalImage}">
					<div class="event-detail-row">
						<div class="event-detail-label">
							<f:translate key="tx_sfeventmgt_domain_model_event.additional_image"/>
						</div>
						<div class="event-detail-value event-additional-image">
							<f:for each="{event.additionalImage}" as="image">
								<f:image src="{image.uid}" alt="" treatIdAsReference="TRUE"
										 width="{settings.details.imageWidth}"
										 height="{settings.details.imageHeight}"/>
							</f:for>
						</div>
						<div class="clear"></div>
					</div>
				</f:if>

				<f:if condition="{event.files}">
					<div class="event-detail-row">
						<div class="event-detail-label">
							<f:translate key="tx_sfeventmgt_domain_model_event.files" />
						</div>
						<div class="event-detail-value files">
							<f:for each="{event.files}" as="file">
								<f:if condition="{file.originalResource.title}">
									<f:then>
										<a href="{file.originalResource.publicUrl}" target="_blank">{file.originalResource.title}</a>
									</f:then>
									<f:else>
										<a href="{file.originalResource.publicUrl}" target="_blank"><f:translate key="detail.download"/></a>
									</f:else>
								</f:if>
							</f:for>
						</div>
						<div class="clear"></div>
					</div>
				</f:if>

				<f:if condition="{event.youtube}">
					<div class="event-detail-row">
						<div class="event-detail-label">
							<f:translate key="tx_sfeventmgt_domain_model_event.youtube" />
						</div>
						<div class="event-detail-value event-youtube">
							<f:format.raw>{event.youtube}</f:format.raw>
						</div>
						<div class="clear"></div>
					</div>
				</f:if>

				<f:link.action action="icalDownload" arguments="{event : event}"><f:translate key="event.icalDownload" /></f:link.action>

				<f:link.action action="list" pageUid="{settings.listPid}"><f:translate key="event.backtext" /></f:link.action>
				<f:if condition="{event.registrationPossible}">
					<f:if condition="{settings.registrationPid} !=''">
						<f:link.action action="registration" arguments="{event : event}" pageUid="{settings.registrationPid}">
							<f:translate key="event.registration"/>
						</f:link.action>
					</f:if>
				</f:if>
			</f:case>
		</f:switch>
	</f:if>
</f:section>